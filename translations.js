const translations = {
    "fr": {
        "nav-about": "À propos",
        "nav-skills": "Compétences & Stack",
        "nav-projects": "Projets",
        "nav-blog": "Blog & Veille",
        "nav-contact": "Contactez-moi",

        "nav-back": "← Retour",
        "blog-title": "📖 Blog Technique",
        "blog-description": "Retrouvez ici mes articles techniques et retours d'expérience.",
        "external-articles-title": "🌍 Mes articles externes",
        "btn-devto": "🔗 Voir plus sur Dev.to",
        "btn-medium": "🔗 Voir plus sur Medium",
        "veille-title": "📡 Veille Technologique",
        "veille-description": "Mes sources préférées pour rester à jour sur l'écosystème tech et data.",
        "footer-title": "En savoir plus ? 📚",
        "footer-description": "Découvrez mes réalisations techniques et mes dernières publications.",

        // 📌 HERO Section
        "hero-title": "Djouldé Barry",
        "hero-subtitle": "Data Engineer | Spécialiste ETL & Big Data",
        "hero-description": "Passionné par la gestion et la valorisation des données, je conçois des solutions robustes pour l'ingestion, la transformation et l'analyse de grands volumes de données. Mon expertise couvre l'ETL, le Big Data et le Cloud Computing.",
        "hero-btn-cv": "📄 Voir mon CV",
        "hero-btn-explore": "Pourquoi moi ? Découvrez-le !",

        // 📌 COMPÉTENCES Section
        "competences-title": "Compétences & Stack Technique",
        "competences-list-title": "Mes Compétences",
        "competences-skill-1": "📊 Modélisation & Data Processing",
        "competences-skill-2": "🔄 Développement de pipelines ETL",
        "competences-skill-3": "📡 Big Data & Cloud (AWS, GCP)",
        "competences-skill-4": "⚙️ Automatisation & CI/CD",
        "competences-skill-5": "📈 Data Visualisation (Power BI)",
        "competences-stack-title": "Stack Technique",

        // 📌 PROJETS Section
        "projects-title": "Projets",
        "project-1-title": "Oncopole Claudis Rigaud",
        "project-1-description": "Optimisation et structuration des données pour la recherche en oncologie.",
        "project-2-title": "Aristid Retail Technology",
        "project-2-description": "Analyse de prix concurrentiels et refonte du système de facturation.",
        "project-3-title": "IQVIA",
        "project-3-description": "Automatisation des fichiers prix et feedbacks pour médecins.",
        "btn-project-1": "Voir plus",
        "btn-project-2": "Voir plus",
        "btn-project-3": "Voir plus",


        // Titres des modals
        "modal-1-title": "Oncopole Claudis Rigaud",
        "modal-2-title": "Aristid Retail Technology",
        "modal-3-title": "IQVIA",

        // Descriptions des modals
        "modal-1-description": "Conception et mise en œuvre de pipelines de données scalables sur GCP.",
        "modal-2-description": "Mise en place de pipelines de données optimisés pour le traitement des flux concurrentiels.",
        "modal-3-description": "Automatisation des fichiers prix hebdomadaires/mensuels sous Talend.",

        // Technologies des modals
        "modal-1-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Composer, Dataflow), ClickHouse",
        "modal-2-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Cloud Composer, Dataflow), Airflow",
        "modal-3-tech": "Talend, PostgreSQL, Oracle, GitLabCI, Jenkins, Jira/Confluence",

        "title": "Cas d'étude : Analyse des téléchargements PyPI (GCP & Streamlit)",
        "subtitle": "Découvrez en détails ma méthodologie pour la création d'un pipeline de données scalable.",
        "context": "Contexte & Objectifs",
        "context-text": "Analyse des données publiques issues de PyPI sur les téléchargements de packages Python, avec un pipeline automatisé sur GCP et Streamlit.",
        "context-point-1": "Collecte automatique via Composer (Airflow)",
        "context-point-2": "Traitement SQL avec BigQuery",
        "context-point-3": "Dashboard interactif Streamlit",
        "context-point-4": "Automatisation CI/CD via GitLab et Docker",
        "dashboards": "Dashboards & Visualisations",
        "dashboards-text": "Quelques exemples concrets des dashboards interactifs réalisés :",
        "dashboard-country-title": "Téléchargements par Pays",
        "dashboard-project-title": "Top Projets PyPI téléchargés",
        "btn-dashboard": "Voir le Dashboard interactif",
        "ci-cd-title": "Méthodologie & CI/CD",
        "ci-cd-text": "Workflow entièrement automatisé et géré via GitLab CI/CD et Docker, avec séparation nette des environnements dev et prod.",
        "btn-ci-cd": "Voir les logs CI/CD",
        "footer-title": "En savoir plus ? 📚",
        "footer-text": "Découvrez mes réalisations techniques et mes dernières publications.",
        "footer-links-title": "Ressources complémentaires 🔗",
        "footer-link-1": "👉 Code source du projet (GitLab)",
        "footer-link-2": "👉 Mes certifications professionnelles",

        // 📌 FOOTER Section
        "footer-title": "Envie de collaborer ? 🚀",
        "footer-text": "Contactez-moi pour discuter de vos projets en Data Engineering.",
        "footer-contact-title": "Envoyez-moi un message 📩",
        "footer-form-name": "Votre nom",
        "footer-form-email": "Votre email",
        "footer-form-message": "Votre message",
        "footer-form-submit": "Envoyer",
        "footer-success-message": "Merci pour votre message ! 📩"

    },
    "en": {
        "nav-about": "About",
        "nav-skills": "Skills & Stack",
        "nav-projects": "Projects",
        "nav-blog": "Blog & Insights",
        "nav-contact": "Contact Me",

        "nav-back": "← Back",
        "blog-title": "📖 Technical Blog",
        "blog-description": "Find my technical articles and experience sharing here.",
        "external-articles-title": "🌍 My External Articles",
        "btn-devto": "🔗 See more on Dev.to",
        "btn-medium": "🔗 See more on Medium",
        "veille-title": "📡 Tech Watch",
        "veille-description": "My favorite sources to stay updated on the tech and data ecosystem.",
        "footer-title": "Want to know more? 📚",
        "footer-description": "Discover my technical achievements and latest publications.",

        // 📌 HERO Section
        "hero-title": "Djouldé Barry",
        "hero-subtitle": "Data Engineer | ETL & Big Data Specialist",
        "hero-description": "Passionate about data management and enhancement, I design robust solutions for ingestion, transformation, and analysis of large volumes of data. My expertise covers ETL, Big Data, and Cloud Computing.",
        "hero-btn-cv": "📄 View my CV",
        "hero-btn-explore": "Why me? Find out!",

        // 📌 COMPETENCES Section
        "competences-title": "Skills & Technical Stack",
        "competences-list-title": "My Skills",
        "competences-skill-1": "📊 Modeling & Data Processing",
        "competences-skill-2": "🔄 ETL Pipeline Development",
        "competences-skill-3": "📡 Big Data & Cloud (AWS, GCP)",
        "competences-skill-4": "⚙️ Automation & CI/CD",
        "competences-skill-5": "📈 Data Visualization (Power BI)",
        "competences-stack-title": "Technical Stack",

        // 📌 PROJETS Section
        "projects-title": "Projects",
        "project-1-title": "Oncopole Claudis Rigaud",
        "project-1-description": "Optimization and structuring of data for oncology research.",
        "project-2-title": "Aristid Retail Technology",
        "project-2-description": "Competitive pricing analysis and billing system overhaul.",
        "project-3-title": "IQVIA",
        "project-3-description": "Automation of price files and feedbacks for doctors.",
        "btn-project-1": "Learn more",
        "btn-project-2": "Learn more",
        "btn-project-3": "Learn more",


        // Titles of modals
        "modal-1-title": "Oncopole Claudis Rigaud",
        "modal-2-title": "Aristid Retail Technology",
        "modal-3-title": "IQVIA",

        // Descriptions of modals
        "modal-1-description": "Design and implementation of scalable data pipelines on GCP.",
        "modal-2-description": "Implementation of optimized data pipelines for competitive price processing.",
        "modal-3-description": "Automation of weekly/monthly price files using Talend.",

        // Technologies of modals
        "modal-1-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Composer, Dataflow), ClickHouse",
        "modal-2-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Cloud Composer, Dataflow), Airflow",
        "modal-3-tech": "Talend, PostgreSQL, Oracle, GitLabCI, Jenkins, Jira/Confluence",


        "title": "Case Study: Analysis of PyPI Downloads (GCP & Streamlit)",
        "subtitle": "Discover in detail my methodology for creating a scalable data pipeline.",
        "context": "Context & Objectives",
        "context-text": "Analysis of public PyPI data on Python package downloads, with an automated pipeline on GCP and Streamlit.",
        "context-point-1": "Automatic data collection via Composer (Airflow)",
        "context-point-2": "SQL processing with BigQuery",
        "context-point-3": "Interactive dashboard with Streamlit",
        "context-point-4": "CI/CD automation via GitLab and Docker",
        "dashboards": "Dashboards & Visualizations",
        "dashboards-text": "Some concrete examples of interactive dashboards created:",
        "dashboard-country-title": "Downloads by Country",
        "dashboard-project-title": "Most Downloaded PyPI Projects",
        "btn-dashboard": "View Interactive Dashboard",
        "ci-cd-title": "Methodology & CI/CD",
        "ci-cd-text": "Fully automated workflow managed via GitLab CI/CD and Docker, with a clear separation between dev and prod environments.",
        "btn-ci-cd": "View CI/CD Logs",
        "footer-title": "Want to know more? 📚",
        "footer-text": "Discover my technical projects and latest publications.",
        "footer-links-title": "Additional Resources 🔗",
        "footer-link-1": "👉 Project source code (GitLab)",
        "footer-link-2": "👉 My professional certifications",

        // 📌 FOOTER Section
        "footer-title": "Looking to collaborate? 🚀",
        "footer-text": "Contact me to discuss your Data Engineering projects.",
        "footer-contact-title": "Send me a message 📩",
        "footer-form-name": "Your name",
        "footer-form-email": "Your email",
        "footer-form-message": "Your message",
        "footer-form-submit": "Send",
        "footer-success-message": "Thank you for your message! 📩"
    
    }
};

// ✅ Fonction pour définir la langue et sauvegarder le choix
function setLanguage(lang) {
    applyTranslations(lang);
}

function applyTranslations(lang) {
    console.log("Application de la langue :", lang);

    if (document.getElementById("page-title")) {
        document.getElementById("page-title").innerText = translations[lang]["title"];
    }
    if (document.getElementById("page-subtitle")) {
        document.getElementById("page-subtitle").innerText = translations[lang]["subtitle"];
    }
    if (document.getElementById("hero-title")) {
        document.getElementById("hero-title").innerText = translations[lang]["hero-title"];
    }
    document.getElementById("context-title").innerText = "🎯 " + translations[lang]["context"];
    document.getElementById("context-text").innerText = translations[lang]["context-text"];
    document.getElementById("context-point-1").innerText = translations[lang]["context-point-1"];
    document.getElementById("context-point-2").innerText = translations[lang]["context-point-2"];
    document.getElementById("context-point-3").innerText = translations[lang]["context-point-3"];
    document.getElementById("context-point-4").innerText = translations[lang]["context-point-4"];
    document.getElementById("dashboards-title").innerText = "📊 " + translations[lang]["dashboards"];
    document.getElementById("dashboards-text").innerText = translations[lang]["dashboards-text"];
    document.getElementById("dashboard-country-title").innerText = translations[lang]["dashboard-country-title"];
    document.getElementById("dashboard-project-title").innerText = translations[lang]["dashboard-project-title"];
    document.getElementById("btn-dashboard").innerText = translations[lang]["btn-dashboard"];
    document.getElementById("ci-cd-title").innerText = "⚙️ " + translations[lang]["ci-cd-title"];
    document.getElementById("ci-cd-text").innerText = translations[lang]["ci-cd-text"];
    document.getElementById("btn-ci-cd").innerText = translations[lang]["btn-ci-cd"];
    document.getElementById("footer-title").innerText = translations[lang]["footer-title"];
    document.getElementById("footer-text").innerText = translations[lang]["footer-text"];
    document.getElementById("footer-links-title").innerText = translations[lang]["footer-links-title"];
    document.getElementById("footer-link-1").innerText = translations[lang]["footer-link-1"];
    document.getElementById("footer-link-2").innerText = translations[lang]["footer-link-2"];

    //Traduction de la NAVBAR
    if (document.getElementById("nav-about")) {
        document.getElementById("nav-about").innerText = translations[lang]["nav-about"];
    }
    if (document.getElementById("nav-skills")) {
        document.getElementById("nav-skills").innerText = translations[lang]["nav-skills"];
    }
    if (document.getElementById("projects-title")) {
        document.getElementById("projects-title").innerText = translations[lang]["projects-title"];
    }
    document.getElementById("nav-blog").innerText = translations[lang]["nav-blog"];
  
    document.getElementById("hero-subtitle").innerText = translations[lang]["hero-subtitle"];

    if (document.getElementById("hero-description")) {
        document.getElementById("hero-description").innerText = translations[lang]["hero-description"];
    }
    document.getElementById("hero-btn-cv").innerText = translations[lang]["hero-btn-cv"];
    document.getElementById("hero-btn-explore").innerText = translations[lang]["hero-btn-explore"];

    // ✅ COMPÉTENCES
    if (document.getElementById("competences-title")) {
        document.getElementById("competences-title").innerText = translations[lang]["competences-title"];

    if (document.getElementById("competences-list-title")) {
        document.getElementById("competences-list-title").innerText = translations[lang]["competences-list-title"];
    }
    if (document.getElementById("skill-1")) {
        document.getElementById("skill-1").innerText = translations[lang]["competences-skill-1"];
    }
    if (document.getElementById("skill-2")) {
        document.getElementById("skill-2").innerText = translations[lang]["competences-skill-2"];
    }
    if (document.getElementById("skill-3")) {
        document.getElementById("skill-3").innerText = translations[lang]["competences-skill-3"];
    }
    if (document.getElementById("skill-4")) {
        document.getElementById("skill-4").innerText = translations[lang]["competences-skill-4"];
    }
    if (document.getElementById("skill-5")) {
        document.getElementById("skill-5").innerText = translations[lang]["competences-skill-5"];
    }
    document.getElementById("competences-stack-title").innerText = translations[lang]["competences-stack-title"];

    if (document.getElementById("projects-title")) {
        document.getElementById("projects-title").innerText = translations[lang]["projects-title"];
    }
    if (document.getElementById("project-1-title")) {
        document.getElementById("project-1-title").innerText = translations[lang]["project-1-title"];
    }
    if (document.getElementById("project-1-description")) {
        document.getElementById("project-1-description").innerText = translations[lang]["project-1-description"];
    }
    document.getElementById("project-2-title").innerText = translations[lang]["project-2-title"];
    document.getElementById("project-2-description").innerText = translations[lang]["project-2-description"];
    document.getElementById("project-3-title").innerText = translations[lang]["project-3-title"];
    document.getElementById("project-3-description").innerText = translations[lang]["project-3-description"];
    document.querySelectorAll(".btn-project").forEach((btn, index) => {
        btn.innerText = translations[lang][`btn-project-${index + 1}`];
    });

    //Traduction modale
    document.getElementById("modal-1-title").innerText = translations[lang]["modal-1-title"];
    document.getElementById("modal-2-title").innerText = translations[lang]["modal-2-title"];
    document.getElementById("modal-3-title").innerText = translations[lang]["modal-3-title"];

    document.getElementById("modal-1-description").innerText = translations[lang]["modal-1-description"];
    document.getElementById("modal-2-description").innerText = translations[lang]["modal-2-description"];
    document.getElementById("modal-3-description").innerText = translations[lang]["modal-3-description"];

    document.getElementById("modal-1-tech").innerText = translations[lang]["modal-1-tech"];
    document.getElementById("modal-2-tech").innerText = translations[lang]["modal-2-tech"];
    document.getElementById("modal-3-tech").innerText = translations[lang]["modal-3-tech"];

    // 📌 FOOTER Section
    document.getElementById("footer-title").innerText = translations[lang]["footer-title"];
    document.getElementById("footer-text").innerText = translations[lang]["footer-text"];
    document.getElementById("footer-contact-title").innerText = translations[lang]["footer-contact-title"];
    document.getElementById("footer-form-name").placeholder = translations[lang]["footer-form-name"];
    document.getElementById("footer-form-email").placeholder = translations[lang]["footer-form-email"];
    document.getElementById("footer-form-message").placeholder = translations[lang]["footer-form-message"];
    document.getElementById("footer-form-submit").innerText = translations[lang]["footer-form-submit"];
    document.getElementById("footer-success-message").innerText = translations[lang]["footer-success-message"];

    // 📌 NAVBAR
    if (document.getElementById("nav-back")) {
        document.getElementById("nav-back").innerText = translations[lang]["nav-back"];
    }

    // 📌 BLOG Section
    if (document.getElementById("blog-title")) {
        document.getElementById("blog-title").innerText = translations[lang]["blog-title"];
    }
    if (document.getElementById("blog-description")) {
        document.getElementById("blog-description").innerText = translations[lang]["blog-description"];
    }

    // 📌 ARTICLES EXTERNES
    if (document.getElementById("external-articles-title")) {
        document.getElementById("external-articles-title").innerText = translations[lang]["external-articles-title"];
    }
    if (document.getElementById("btn-devto")) {
        document.getElementById("btn-devto").innerText = translations[lang]["btn-devto"];
    }
    if (document.getElementById("btn-medium")) {
        document.getElementById("btn-medium").innerText = translations[lang]["btn-medium"];
    }

    // 📌 VEILLE TECHNOLOGIQUE
    if (document.getElementById("veille-title")) {
        document.getElementById("veille-title").innerText = translations[lang]["veille-title"];
    }
    if (document.getElementById("veille-description")) {
        document.getElementById("veille-description").innerText = translations[lang]["veille-description"];
    }

    // 📌 FOOTER
    if (document.getElementById("footer-title")) {
        document.getElementById("footer-title").innerText = translations[lang]["footer-title"];
    }
    if (document.getElementById("footer-description")) {
        document.getElementById("footer-description").innerText = translations[lang]["footer-description"];
    }
    console.log("Traduction appliquée :", lang);

}
document.addEventListener("DOMContentLoaded", function () {
    console.log("Langue enregistrée :", localStorage.getItem("selectedLanguage"));

    const frButton = document.getElementById("fr-btn");
    const enButton = document.getElementById("en-btn");

    if (frButton) {
        frButton.addEventListener("click", () => setLanguage("fr"));
    } else {
        console.error("❌ Bouton FR introuvable !");
    }

    if (enButton) {
        enButton.addEventListener("click", () => setLanguage("en"));
    } else {
        console.error("❌ Bouton EN introuvable !");
    }

    // ✅ Appliquer la langue enregistrée uniquement si on trouve des éléments à traduire
    const savedLanguage = localStorage.getItem("selectedLanguage") || "fr";

    // Vérifie si la page a des éléments traduisibles avant d'exécuter
    if (document.getElementById("hero-title") || document.getElementById("projects-title")) {
        setLanguage(savedLanguage);
    } else {
        console.warn("⚠️ Aucun élément traduisible trouvé sur cette page.");
    }
});






      