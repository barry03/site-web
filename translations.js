const translations = {
    "fr": {
        "nav-about": "√Ä propos",
        "nav-skills": "Comp√©tences & Stack",
        "nav-projects": "Projets",
        "nav-contact": "Contactez-moi",
        "nav-blog": "Blog & Veille",
        "nav-back": "üîô Retour au blog",

        //CV
        "cv-retour": "‚Üê Retour",
        "cv-sombre" : "üåô Mode Sombre",

        // HERO Section
        "hero-title": "Data Engineer | Sp√©cialiste ETL & Big Data",
        "hero-description": "Passionn√© par la gestion et la valorisation des donn√©es, je con√ßois des solutions robustes pour l'ingestion, la transformation et l'analyse de grands volumes de donn√©es. Mon expertise couvre l'ETL, le Big Data et le Cloud Computing.",
        "hero-btn-cv": "üìÑ Voir mon CV",
        "hero-btn-explore": "Pourquoi moi ?",
        
        // comp√©tences
        "skills-title": "üßë‚Äçüíª Comp√©tences & Stack",
        "skills-subtitle": "Mes Comp√©tences",
        "skill-1": "üìä Mod√©lisation & Data Processing",
        "skill-2": "üîÑ D√©veloppement de pipelines ETL",
        "skill-3": "üì° Big Data & Cloud (AWS, GCP)",
        "skill-4": "‚öôÔ∏è Automatisation & CI/CD",
        "skill-5": "üìà Data Visualisation (Power BI)",
        "stack-title": "Stack Technique",

        // PROJETS Section
        "projects-title": "üóÇÔ∏è Projets",
        "project-1-title": "Oncopole Claudis Rigaud",
        "project-1-description": "Optimisation et structuration des donn√©es pour la recherche en oncologie.",
        "project-2-title": "Aristid Retail Technology",
        "project-2-description": "Analyse de prix concurrentiels et refonte du syst√®me de facturation.",
        "project-3-title": "IQVIA",
        "project-3-description": "Automatisation des fichiers prix et feedbacks pour m√©decins.",
        "btn-project-1": "Voir plus",
        "btn-project-2": "Voir plus",
        "btn-project-3": "Voir plus",

        // Titres des modals
        "modal-1-title": "Oncopole Claudis Rigaud",
        "modal-2-title": "Aristid Retail Technology",
        "modal-3-title": "IQVIA",

        "proj-date":"Oct. 2024 ‚Äì En cours",

        // Descriptions des modals
        "modal-1-description": "Conception et mise en ≈ìuvre de pipelines de donn√©es scalables sur GCP.",
        "modal-2-description": "Mise en place de pipelines de donn√©es optimis√©s pour le traitement des flux concurrentiels.",
        "modal-3-description": "Automatisation des fichiers prix hebdomadaires/mensuels sous Talend.",

        // Technologies des modals
        "modal-1-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Composer, Dataflow), ClickHouse",
        "modal-2-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Cloud Composer, Dataflow), Airflow",
        "modal-3-tech": "Talend, PostgreSQL, Oracle, GitLabCI, Jenkins, Jira/Confluence",

        
        // cas d'etude
        "page-title": "Cas d'√©tude : Analyse des t√©l√©chargements PyPI (GCP & Streamlit)",
        "page-subtitle": "D√©couvrez en d√©tails ma m√©thodologie pour la cr√©ation d'un pipeline de donn√©es scalable.",
        "context-title": "üéØ Contexte & Objectifs",
        "context-text": "Analyse des donn√©es publiques issues de PyPI sur les t√©l√©chargements de packages Python, avec un pipeline automatis√© sur GCP et Streamlit.",
        "context-point-1": "Collecte automatique via Composer (Airflow)",
        "context-point-2": "Traitement SQL avec BigQuery",
        "context-point-3": "Dashboard interactif Streamlit",
        "context-point-4": "Automatisation CI/CD via GitLab et Docker",
        "dashboards-title": "üìä Dashboards & Visualisations",
        "dashboards-text": "Quelques exemples concrets des dashboards interactifs r√©alis√©s :",
        "dashboard-country-title": "T√©l√©chargements par Pays",
        "dashboard-project-title": "Top Projets PyPI t√©l√©charg√©s",
        "btn-dashboard": "Voir le Dashboard interactif",
        "ci-cd-title": "‚öôÔ∏è M√©thodologie & CI/CD",
        "ci-cd-text": "Workflow enti√®rement automatis√© et g√©r√© via GitLab CI/CD et Docker, avec s√©paration nette des environnements dev et prod.",
        "btn-ci-cd": "Voir les logs CI/CD",

        // blog
        "blog-title": "üìñ Blog Technique",
        "blog-description": "Retrouvez ici mes articles techniques et retours d'exp√©rience.",
        "external-articles-title": "üåç Mes articles externes",
        "read-article-btn":"Lire l'article",
        "btn-devto": "üîó Voir plus sur Dev.to",
        "btn-medium": "üîó Voir plus sur Medium",
        "veille-title": "üì° Veille Technologique",
        "veille-description": "Mes sources pr√©f√©r√©es pour rester √† jour sur l'√©cosyst√®me tech et data.",
        "footer-title-blog": "En savoir plus ? üìö",
        "footer-description": "D√©couvrez mes r√©alisations techniques et mes derni√®res publications.",

        // footer explore
        "footer-links-title": "Ressources compl√©mentaires üîó",
        "footer-link-1": "üëâ Code source du projet (GitLab)",
        "footer-link-2": "üëâ Mes certifications professionnelles",

        // FOOTER index.html
        "footer-title": "Envie de collaborer ? üöÄ",
        "footer-text": "Contactez-moi pour discuter de vos projets en Data Engineering.",
        "footer-contact-title": "Envoyez-moi un message üì©",
        "name": "Votre nom",
        "name-error" : "Veuillez entrer votre nom svp.",
        "email": "Votre email",
        "email-error" : "Veuillez entrer un email valide svp.",
        "message": "Veuillez entrer un message svp.",
        "envoie": "Envoyer",
        "success-message": "Merci pour votre message ! üì©",

        "hobbies-title": "üéØ Centres d‚Äôint√©r√™t",
        "hobbies-description": "Au-del√† des donn√©es et du code, voici quelques passions qui m‚Äôinspirent au quotidien.",
        "hobby-football": "Football",
        "hobby-basketball": "Basket",
        "hobby-gaming": "Jeux vid√©o",
        "hobby-travel": "Voyages",
        "hobby-podcast": "Podcasts Tech",
        "hobby-cooking": "Cuisine",

        // üîπ Oncopole
        "oncopole-objective-title": "üéØ Objectifs",
        "oncopole-objective-text": "Optimiser la gestion des donn√©es pour la recherche en oncologie √† travers une architecture scalable et automatis√©e.",
        "oncopole-missions-title": "üõ†Ô∏è Missions principales",
        "oncopole-task-1": "Conception et d√©ploiement de pipelines de donn√©es sur GCP via Composer (Airflow).",
        "oncopole-task-2": "Utilisation de PySpark Databricks pour le traitement de donn√©es biologiques.",
        "oncopole-task-3": "Orchestration des workflows.",
        "oncopole-task-4": "Monitoring automatis√© et de tests unitaires.",
        "oncopole-tech-title": "üì¶ Technologies",
        "modal-1-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Composer, Dataflow), ClickHouse",

        // üîπ Aristid
        "aristid-objective-title": "üéØ Objectifs",
        "aristid-objective-text": "Mettre en place un syst√®me automatis√© d‚Äôanalyse concurrentielle de prix pour optimiser la strat√©gie tarifaire de l‚Äôentreprise.",
        "aristid-missions-title": "üõ†Ô∏è Missions principales",
        "aristid-task-1": "Collecte quotidienne des prix concurrents via des scripts Python et scraping web h√©berg√©s sur Cloud Functions.",
        "aristid-task-2": "Nettoyage et structuration des donn√©es avec Pandas, puis stockage sur BigQuery.",
        "aristid-task-3": "Surveillance et s√©curisation des flux de donn√©es.",
        "aristid-task-4": "Orchestration du workflow complet avec Cloud Composer (Airflow).",
        "aristid-tech-title": "üì¶ Technologies",
        "modal-2-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Cloud Composer, Dataflow), GithubActions, Docker",

        // üîπ IQVIA
        "iqvia-objective-title": "üéØ Objectifs",
        "iqvia-objective-text": "Automatisation des fichiers prix hebdomadaires/mensuels sous Talend.",
        "iqvia-missions-title": "üõ†Ô∏è Missions principales",
        "iqvia-task-1": "Conception et mise en ≈ìuvre d‚Äôun pipeline de donn√©es automatis√© sous Talend.",
        "iqvia-task-2": "Optimisation des requ√™tes et validation des structures de donn√©es.",
        "iqvia-task-3": "Documentation du projet sur confluence.",
        "iqvia-tech-title": "üì¶ Technologies",
        "modal-3-tech": "Talend, PostgreSQL, Oracle, GitLabCI, Jenkins, Jira/Confluence",

        "welcome-overlay": "üëã Bienvenue sur mon portfolio ! Faites d√©filer pour d√©couvrir mon univers üöÄ",

        "quote-1": "üí¨ ¬´ Les paroles sont bon march√©. Montrez-moi le code. ¬ª ‚Äì Linus Torvalds",
        "quote-2": "üí¨ ¬´ La simplicit√© est l‚Äô√¢me de l‚Äôefficacit√©. ¬ª ‚Äì Austin Freeman",

        "text-toolip": "Lorsque vous ouvrez le dashboard, cliquez sur 'Yes, get this app back up!' si un message s'affiche. Veillez patientez svp!",
        "robot-v": "ü§ñ Assistant de Veille Tech",
        "robot-desc": "Posez une question sur une techno, outil ou tendance pour obtenir une r√©ponse en temps r√©el.",
        "ai-question": "Ex: Quelles sont les nouveaut√©s sur Apache Spark ?",
        "ia-button": "Lancer la recherche üîç",
        "quote-citation": "üí° Une autre citation tech ?",
        "footer-res": "üìÖ R√©server un cr√©neau",
        "footer-sep": "ou"

    },
    "en": {
        "nav-about": "About",
        "nav-skills": "Skills & Stack",
        "nav-projects": "Projects",
        "nav-contact": "Contact Me",
        "nav-blog": "Blog & Insights",
        "nav-back": "üîô Back to the blog",

        //CV
        "cv-retour": "‚Üê Back",
        "cv-sombre" : "üåô Dark mode",

        // HERO Section
        "hero-title": "Data Engineer | ETL & Big Data Specialist",
        "hero-description": "Passionate about data management and enhancement, I design robust solutions for ingestion, transformation, and analysis of large volumes of data. My expertise covers ETL, Big Data, and Cloud Computing.",
        "hero-btn-cv": "üìÑ View my CV",
        "hero-btn-explore": "Why me?",

        // COMPETENCES Section
        "skills-title": "üßë‚Äçüíª Skills & Technical Stack",
        "skills-subtitle": "My Skills",
        "skill-1": "üìä Modeling & Data Processing",
        "skill-2": "üîÑ ETL Pipeline Development",
        "skill-3": "üì° Big Data & Cloud (AWS, GCP)",
        "skill-4": "‚öôÔ∏è Automation & CI/CD",
        "skill-5": "üìà Data Visualization (Power BI)",
        "stack-title": "Technical Stack",

        // PROJETS Section
        "projects-title": "üóÇÔ∏è Projects",
        "project-1-title": "Oncopole Claudis Rigaud",
        "project-1-description": "Optimization and structuring of data for oncology research.",
        "project-2-title": "Aristid Retail Technology",
        "project-2-description": "Competitive pricing analysis and billing system overhaul.",
        "project-3-title": "IQVIA",
        "project-3-description": "Automation of price files and feedbacks for doctors.",
        "btn-project-1": "Learn more",
        "btn-project-2": "Learn more",
        "btn-project-3": "Learn more",

        // Titles of modals
        "modal-1-title": "Oncopole Claudis Rigaud",
        "modal-2-title": "Aristid Retail Technology",
        "modal-3-title": "IQVIA",

        "proj-date":"Since Oct. 2024 ‚Äì Present",

        // Descriptions of modals
        "modal-1-description": "Design and implementation of scalable data pipelines on GCP.",
        "modal-2-description": "Implementation of optimized data pipelines for competitive price processing.",
        "modal-3-description": "Automation of weekly/monthly price files using Talend.",

        // Technologies of modals
        "modal-1-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Composer, Dataflow), ClickHouse",
        "modal-2-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Cloud Composer, Dataflow), Airflow",
        "modal-3-tech": "Talend, PostgreSQL, Oracle, GitLabCI, Jenkins, Jira/Confluence",

        // use case
        "page-title": "Case Study: Analysis of PyPI Downloads (GCP & Streamlit)",
        "page-subtitle": "Discover in detail my methodology for creating a scalable data pipeline.",
        "context-title": "üéØ Context & Objectives",
        "context-text": "Analysis of public PyPI data on Python package downloads, with an automated pipeline on GCP and Streamlit.",
        "context-point-1": "Automatic data collection via Composer (Airflow)",
        "context-point-2": "SQL processing with BigQuery",
        "context-point-3": "Interactive dashboard with Streamlit",
        "context-point-4": "CI/CD automation via GitLab and Docker",
        "dashboards-title": "üìä Dashboards & Visualizations",
        "dashboards-text": "Some concrete examples of interactive dashboards created:",
        "dashboard-country-title": "Downloads by Country",
        "dashboard-project-title": "Most Downloaded PyPI Projects",
        "btn-dashboard": "View Interactive Dashboard",
        "ci-cd-title": "‚öôÔ∏è Methodology & CI/CD",
        "ci-cd-text": "Fully automated workflow managed via GitLab CI/CD and Docker, with a clear separation between dev and prod environments.",
        "btn-ci-cd": "View CI/CD Logs",

        // blog
        "blog-title": "üìñ Technical Blog",
        "blog-description": "Find my technical articles and experience sharing here.",
        "external-articles-title": "üåç My External Articles",
        "read-article-btn": "Read the article",
        "btn-devto": "üîó See more on Dev.to",
        "btn-medium": "üîó See more on Medium",
        "veille-title": "üì° Tech Watch",
        "veille-description": "My favorite sources to stay updated on the tech and data ecosystem.",
        "footer-title-blog": "Want to know more? üìö",
        "footer-description": "Discover my technical achievements and latest publications.",

        // footer explore
        "footer-links-title": "Additional Resources üîó",
        "footer-link-1": "üëâ Project source code (GitLab)",
        "footer-link-2": "üëâ My professional certifications",

        // FOOTER index.html
        "footer-title": "Looking to collaborate? üöÄ",
        "footer-text": "Contact me to discuss your Data Engineering projects.",
        "footer-contact-title": "Send me a message üì©",
        "name": "Your name",
        "name-error" : "Please enter your name",
        "email": "Your email",
        "email-error" : "Please enter a valid email address",
        "message": "Your message",
        "message-error" : "Please enter a message",
        "envoie": "Send",
        "success-message": "Thank you for your message! üì©",

        "hobbies-title": "üéØ Hobbies & Interests",
        "hobbies-description": "Beyond data and code, here are a few passions that inspire me every day.",
        "hobby-football": "Football",
        "hobby-basketball": "Basketball",
        "hobby-gaming": "Gaming",
        "hobby-travel": "Travel",
        "hobby-podcast": "Tech Podcasts",
        "hobby-cooking": "Cooking",

        // üîπ Oncopole
        "oncopole-objective-title": "üéØ Objectives",
        "oncopole-objective-text": "Optimize data management for oncology research through a scalable and automated architecture.",
        "oncopole-missions-title": "üõ†Ô∏è Key Missions",
        "oncopole-task-1": "Design and deployment of data pipelines on GCP via Composer (Airflow).",
        "oncopole-task-2": "Use of PySpark on Databricks for processing biological data.",
        "oncopole-task-3": "Workflow orchestration.",
        "oncopole-task-4": "Automated monitoring and unit testing.",
        "oncopole-tech-title": "üì¶ Technologies",
        "modal-1-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Composer, Dataflow), ClickHouse",

        // üîπ Aristid
        "aristid-objective-title": "üéØ Objectives",
        "aristid-objective-text": "Implement an automated system for price competitive analysis to optimize the company's pricing strategy.",
        "aristid-missions-title": "üõ†Ô∏è Key Missions",
        "aristid-task-1": "Daily collection of competitor prices using Python scripts and web scraping hosted on Cloud Functions.",
        "aristid-task-2": "Data cleaning and structuring with Pandas, then storage in BigQuery.",
        "aristid-task-3": "Monitoring and securing data streams.",
        "aristid-task-4": "Complete workflow orchestration with Cloud Composer (Airflow).",
        "aristid-tech-title": "üì¶ Technologies",
        "modal-2-tech": "Databricks, PySpark, GCP (BigQuery, Cloud Storage, CloudRun, Cloud Composer, Dataflow), GithubActions, Docker",

        // üîπ IQVIA
        "iqvia-objective-title": "üéØ Objectives",
        "iqvia-objective-text": "Automation of weekly/monthly pricing files with Talend.",
        "iqvia-missions-title": "üõ†Ô∏è Key Missions",
        "iqvia-task-1": "Design and implementation of an automated data pipeline with Talend.",
        "iqvia-task-2": "Query optimization and data structure validation.",
        "iqvia-task-3": "Project documentation on Confluence.",
        "iqvia-tech-title": "üì¶ Technologies",
        "modal-3-tech": "Talend, PostgreSQL, Oracle, GitLabCI, Jenkins, Jira/Confluence",

        "welcome-overlay": "üëã Welcome to my portfolio! Feel free to scroll and explore the content below üöÄ",

        "quote-1": "üí¨ ‚ÄúTalk is cheap. Show me the code.‚Äù ‚Äì Linus Torvalds",
        "quote-2": "üí¨ ‚ÄúSimplicity is the soul of efficiency.‚Äù ‚Äì Austin Freeman",

        "text-toolip": "When you open the dashboard, click 'Yes, get this app back up!' if a message appears. Please be patient!",
        "robot-v": "ü§ñ Tech Watch Assistant",
        "robot-desc": "Ask a question about a technology, tool or trend to get a real-time answer.",
        "ai-question": "Ex: What's new in Apache Spark?",
        "ia-button": "Start search üîç",
        "quote-citation": "üí° Another tech quote?",
        "footer-res": "üìÖ Book a slot",
        "footer-sep": "or"
    }
};

// Fonction pour appliquer les traductions
function applyTranslations(lang) {
    console.log("üåç Application de la langue :", lang);

    const elementsToTranslate = [
        "nav-about", "nav-skills", "nav-projects", "nav-contact", "nav-blog", "nav-back", "cv-retour", "cv-sombre",
        "hero-title", "hero-subtitle", "hero-description", "hero-btn-cv", "hero-btn-explore",
        "skills-title", "skills-subtitle", "skill-1", "skill-2", "proj-date",
        "skill-3", "skill-4", "skill-5", "stack-title", "projects-title", "project-1-title", "project-1-description", "project-2-title",
        "project-2-description", "project-3-title", "project-3-description", "btn-project-1", "btn-project-2", "btn-project-3", "modal-1-title",
        "modal-2-title", "modal-3-title", "modal-1-description", "modal-2-description", "modal-3-description", "modal-1-tech", "modal-2-tech", "modal-3-tech",
        "page-title", "page-subtitle", "context-title", "context-text", "context-point-1", "context-point-2",
        "context-point-3", "context-point-4", "dashboards-title", "dashboards-text", "dashboard-country-title",
        "dashboard-project-title", "btn-dashboard", "ci-cd-title", "ci-cd-text", "btn-ci-cd",
        "blog-title", "blog-description", "external-articles-title", "read-article-btn", "btn-devto", "btn-medium", "veille-title", "veille-description",
        "footer-title-blog", "footer-description", "footer-links-title", "footer-link-1", "footer-link-2", "footer-title", "footer-text",
        "footer-contact-title", "name", "name-error", "email", "email-error", "message", "message-error", "envoie", "success-message",
        "hobbies-title", "hobbies-description","hobby-football", "hobby-basketball", "hobby-gaming","hobby-photo", "hobby-travel", "hobby-podcast", "hobby-cooking",
        "oncopole-objective-title", "oncopole-objective-text", "oncopole-missions-title", "oncopole-task-1", "oncopole-task-2", "oncopole-task-3",
        "oncopole-task-4", "oncopole-tech-title", "modal-1-tech", "aristid-objective-title", "aristid-objective-text", "aristid-missions-title",
        "aristid-task-1", "aristid-task-2", "aristid-task-3", "aristid-task-4", "aristid-tech-title", "modal-2-tech", "iqvia-objective-title",
        "iqvia-objective-text", "iqvia-missions-title", "iqvia-task-1", "iqvia-task-2", "iqvia-task-3", "iqvia-tech-title", "modal-3-tech", "quote-1", "quote-2",
        "text-toolip", "robot-v", "robot-desc", "ai-question", "ia-button", "quote-citation", "footer-res", "footer-sep"

    ];

    elementsToTranslate.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            // üéØ Si c‚Äôest un champ input ou textarea
            if (element.tagName === "INPUT" || element.tagName === "TEXTAREA") {
                element.placeholder = translations[lang][id];
            }
            // Sinon texte standard
            else {
                element.innerText = translations[lang][id];
            }
        }
    });
    const welcomeOverlayMessage = document.getElementById("welcome-message");
    if (welcomeOverlayMessage) {
        welcomeOverlayMessage.innerText = translations[lang]["welcome-overlay"];
    }
    // Ajout fl√®che uniquement apr√®s traduction
    const footerTitle = document.getElementById("footer-contact-title");
    if (footerTitle && !footerTitle.innerHTML.includes("‚¨áÔ∏è")) {
        footerTitle.innerHTML += ' <span class="down-arrow">‚¨áÔ∏è</span>';
    }

}

// Met √† jour la langue et l'enregistre dans localStorage
function setLanguage(lang) {
    localStorage.setItem("selectedLanguage", lang);
    applyTranslations(lang);
}

document.addEventListener("DOMContentLoaded", function () {
    console.log("Langue enregistr√©e :", localStorage.getItem("selectedLanguage"));

    const langSelect = document.getElementById("language-select");

    if (langSelect) {
        langSelect.addEventListener("change", (e) => {
            const selectedLang = e.target.value;
            setLanguage(selectedLang);
        });
    }


    // üöÄ Correction : Forcer "fr" si c'est la premi√®re visite
    // üöÄ Correction : Forcer "fr" si c'est la premi√®re visite
    let savedLanguage = localStorage.getItem("selectedLanguage");

    if (!savedLanguage) {
        savedLanguage = "fr";
        localStorage.setItem("selectedLanguage", "fr");
    }

    // ‚úÖ Ajoute ceci juste ici üëá
    if (langSelect) {
        langSelect.value = savedLanguage;
    }

    // Applique les traductions
    applyTranslations(savedLanguage);

    

    // Affichage de l‚Äôoverlay de bienvenue
    const overlay = document.getElementById("welcome-overlay");

    // V√©rifie si le message a d√©j√† √©t√© vu dans cette session
    const hasSeenWelcome = sessionStorage.getItem("welcomeSeen");

    if (overlay && !hasSeenWelcome) {
        overlay.classList.add("show");

        const removeOverlay = () => {
            overlay.classList.remove("show");
            sessionStorage.setItem("welcomeSeen", "true");

            // Supprimer les listeners apr√®s d√©clenchement
            ["mousemove", "click", "scroll"].forEach(evt =>
                document.removeEventListener(evt, removeOverlay)
            );
        };

        ["mousemove", "click", "scroll"].forEach(evt =>
            document.addEventListener(evt, removeOverlay)
        );
    }

});




