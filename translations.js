const translations = {
    "fr": {
        "nav-about": "Ã€ propos",
        "nav-skills": "CompÃ©tences & Stack",
        "nav-projects": "Projets",
        "nav-contact": "Contactez-moi",
        "nav-blog": "Blog & Veille",
        "nav-back": "â† Retour",

        // ðŸ“Œ HERO Section
        "hero-title": "DjouldÃ© Barry",
        "hero-subtitle": "Data Engineer | SpÃ©cialiste ETL & Big Data",
        "hero-description": "PassionnÃ© par la gestion et la valorisation des donnÃ©es, je conÃ§ois des solutions robustes pour l'ingestion, la transformation et l'analyse de grands volumes de donnÃ©es. Mon expertise couvre l'ETL, le Big Data et le Cloud Computing.",
        "hero-btn-cv": "ðŸ“„ Voir mon CV",
        "hero-btn-explore": "Pourquoi moi ? DÃ©couvrez-le !",

        // ðŸ“Œ COMPÃ‰TENCES Section
        "competences-title": "CompÃ©tences & Stack Technique",
        "competences-list-title": "Mes CompÃ©tences",
        "competences-skill-1": "ðŸ“Š ModÃ©lisation & Data Processing",
        "competences-skill-2": "ðŸ”„ DÃ©veloppement de pipelines ETL",
        "competences-skill-3": "ðŸ“¡ Big Data & Cloud (AWS, GCP)",
        "competences-skill-4": "âš™ï¸ Automatisation & CI/CD",
        "competences-skill-5": "ðŸ“ˆ Data Visualisation (Power BI)",
        "competences-stack-title": "Stack Technique",
        
        // cas d'etude
        "title": "Cas d'Ã©tude : Analyse des tÃ©lÃ©chargements PyPI (GCP & Streamlit)",
        "subtitle": "DÃ©couvrez en dÃ©tails ma mÃ©thodologie pour la crÃ©ation d'un pipeline de donnÃ©es scalable.",
        "context": "Contexte & Objectifs",
        "context-text": "Analyse des donnÃ©es publiques issues de PyPI sur les tÃ©lÃ©chargements de packages Python, avec un pipeline automatisÃ© sur GCP et Streamlit.",
        "context-point-1": "Collecte automatique via Composer (Airflow)",
        "context-point-2": "Traitement SQL avec BigQuery",
        "context-point-3": "Dashboard interactif Streamlit",
        "context-point-4": "Automatisation CI/CD via GitLab et Docker",
        "dashboards": "Dashboards & Visualisations",
        "dashboards-text": "Quelques exemples concrets des dashboards interactifs rÃ©alisÃ©s :",
        "dashboard-country-title": "TÃ©lÃ©chargements par Pays",
        "dashboard-project-title": "Top Projets PyPI tÃ©lÃ©chargÃ©s",
        "btn-dashboard": "Voir le Dashboard interactif",
        "ci-cd-title": "MÃ©thodologie & CI/CD",
        "ci-cd-text": "Workflow entiÃ¨rement automatisÃ© et gÃ©rÃ© via GitLab CI/CD et Docker, avec sÃ©paration nette des environnements dev et prod.",
        "btn-ci-cd": "Voir les logs CI/CD",

        // blog
        "blog-title": "ðŸ“– Blog Technique",
        "blog-description": "Retrouvez ici mes articles techniques et retours d'expÃ©rience.",
        "external-articles-title": "ðŸŒ Mes articles externes",
        "btn-devto": "ðŸ”— Voir plus sur Dev.to",
        "btn-medium": "ðŸ”— Voir plus sur Medium",
        "veille-title": "ðŸ“¡ Veille Technologique",
        "veille-description": "Mes sources prÃ©fÃ©rÃ©es pour rester Ã  jour sur l'Ã©cosystÃ¨me tech et data."
    },
    "en": {
        "nav-about": "About",
        "nav-skills": "Skills & Stack",
        "nav-projects": "Projects",
        "nav-contact": "Contact Me",
        "nav-blog": "Blog & Insights",
        "nav-back": "â† Back",

        // ðŸ“Œ HERO Section
        "hero-title": "DjouldÃ© Barry",
        "hero-subtitle": "Data Engineer | ETL & Big Data Specialist",
        "hero-description": "Passionate about data management and enhancement, I design robust solutions for ingestion, transformation, and analysis of large volumes of data. My expertise covers ETL, Big Data, and Cloud Computing.",
        "hero-btn-cv": "ðŸ“„ View my CV",
        "hero-btn-explore": "Why me? Find out!",

        // ðŸ“Œ COMPETENCES Section
        "competences-title": "Skills & Technical Stack",
        "competences-list-title": "My Skills",
        "competences-skill-1": "ðŸ“Š Modeling & Data Processing",
        "competences-skill-2": "ðŸ”„ ETL Pipeline Development",
        "competences-skill-3": "ðŸ“¡ Big Data & Cloud (AWS, GCP)",
        "competences-skill-4": "âš™ï¸ Automation & CI/CD",
        "competences-skill-5": "ðŸ“ˆ Data Visualization (Power BI)",
        "competences-stack-title": "Technical Stack",

        // use case
        "title": "Case Study: Analysis of PyPI Downloads (GCP & Streamlit)",
        "subtitle": "Discover in detail my methodology for creating a scalable data pipeline.",
        "context": "Context & Objectives",
        "context-text": "Analysis of public PyPI data on Python package downloads, with an automated pipeline on GCP and Streamlit.",
        "context-point-1": "Automatic data collection via Composer (Airflow)",
        "context-point-2": "SQL processing with BigQuery",
        "context-point-3": "Interactive dashboard with Streamlit",
        "context-point-4": "CI/CD automation via GitLab and Docker",
        "dashboards": "Dashboards & Visualizations",
        "dashboards-text": "Some concrete examples of interactive dashboards created:",
        "dashboard-country-title": "Downloads by Country",
        "dashboard-project-title": "Most Downloaded PyPI Projects",
        "btn-dashboard": "View Interactive Dashboard",
        "ci-cd-title": "Methodology & CI/CD",
        "ci-cd-text": "Fully automated workflow managed via GitLab CI/CD and Docker, with a clear separation between dev and prod environments.",
        "btn-ci-cd": "View CI/CD Logs",

        // blog
        "blog-title": "ðŸ“– Technical Blog",
        "blog-description": "Find my technical articles and experience sharing here.",
        "external-articles-title": "ðŸŒ My External Articles",
        "btn-devto": "ðŸ”— See more on Dev.to",
        "btn-medium": "ðŸ”— See more on Medium",
        "veille-title": "ðŸ“¡ Tech Watch",
        "veille-description": "My favorite sources to stay updated on the tech and data ecosystem."

    }
};

// âœ… Fonction pour appliquer les traductions
function applyTranslations(lang) {
    console.log("ðŸŒ Application de la langue :", lang);

    // Liste des ID Ã  traduire
    const elementsToTranslate = [
        "nav-about", "nav-skills", "nav-projects", "nav-contact", 
        "nav-blog", "nav-back"
    ];

    elementsToTranslate.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            element.innerText = translations[lang][id];
        }
    });
}

// âœ… Met Ã  jour la langue et l'enregistre dans localStorage
function setLanguage(lang) {
    localStorage.setItem("selectedLanguage", lang);
    applyTranslations(lang);
}

document.addEventListener("DOMContentLoaded", function () {
    console.log("Langue enregistrÃ©e :", localStorage.getItem("selectedLanguage"));

    const frButton = document.getElementById("fr-btn");
    const enButton = document.getElementById("en-btn");

    // VÃ©rifier si on est sur index.html avant d'ajouter les eventListeners
    if (frButton && enButton) {
        frButton.addEventListener("click", () => setLanguage("fr"));
        enButton.addEventListener("click", () => setLanguage("en"));
    }

    // ðŸš€ Correction : Forcer "fr" si c'est la premiÃ¨re visite
    let savedLanguage = localStorage.getItem("selectedLanguage");

    if (!savedLanguage) {  
        savedLanguage = "fr";  // Par dÃ©faut FR la premiÃ¨re fois
        localStorage.setItem("selectedLanguage", "fr");
    }

    applyTranslations(savedLanguage);
});




